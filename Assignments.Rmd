---
title: "Assignments"
output:
  html_document:
    toc: yes
    toc_float: yes
    collapsed: no
    number_sections: no
    toc_depth: 1
  pdf_document:
    toc: yes
    toc_depth: '1'
  word_document:
    toc: yes
    toc_depth: '1'
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(message=FALSE,warning=FALSE, cache=TRUE)
```
This page will contain all the assignments you submit for the class.


### Instructions for all assignments

1. Download the Assignment1.Rmd file from Canvas. You can use this as a template for writing your answers. It's the same as what you can see on my website in the Assignments tab. Once we're done with this I'll edit the text on the website to include the solutions.

2. On RStudio, open a new R script in RStudio (File > New File > R Script). This is where you can test out your R code. You'll write your R commands and draw plots here.

3. Once you have finalized your code, copy and paste your results into this template (Assignment 1.Rmd). For example, if you produced a plot as the solution to one of the problems, you can copy and paste the R code in R markdown by using the ` ``{r} ``` ` command. Answer the questions in full sentences and Save.

4. Produce a PDF file with your answers. To do this, knit to PDF (use Knit button at the top of RStudio), locate the PDF file in your docs folder (it's in the same folder as the Rproj), and submit that on on Canvas in Assignment 1.

5. Build Website, go to GitHub desktop, commit and push. Now your solutions should be on your website as well.






# Assignment 1

**Collaborators: Sara Whitelaw **

This assignment is due on Canvas on Monday 9/20 before class, at 10:15 am. Include the name of anyone with whom you collaborated at the top of the assignment.


### Problem 1 

Install the datasets package on the console below using `install.packages("datasets")`. Now load the library.



```{r}
library(datasets)
#This command loads the data set. 
```

Load the USArrests dataset and rename it `dat`. Note that this dataset comes with R, in the package datasets, so there's no need to load data from your computer. Why is it useful to rename the dataset?

```{r}
dat<-USArrests
#This command renames our data set "USArrests" as dat. Renaming USArrests as dat makes the name shorter and easier to use. 
```

### Problem 2

Use this command to make the state names into a new variable called State. 

```{r, eval=TRUE}
dat$state <- tolower(rownames(USArrests))
#This command renames the state names into a variable called state. 
```

This dataset has the state names as row names, so we just want to make them into a new variable. We also make them all lower case, because that will help us draw a map later - the map function requires the states to be lower case.


List the variables contained in the dataset `USArrests`.

```{r}
names(dat)
```
This command is telling me what the different variables in the USArrests data set are.

### Problem 3 

What type of variable (from the DVB chapter) is `Murder`?

Answer: 'Murder' is a quantitative variable. 

What R Type of variable is it?

Answer:In R, 'Murder' is a numerical variable, which means it is a quantitative variable that is expressed with decimal points. 



### Problem 4

What information is contained in this dataset, in general? What do the numbers mean? 

Answer: This data set contains information about different arrest rates in the United States. It  contains statistics for the arrests in every state for three crimes: rape, assault, and murder. The numbers are the amount of arrests per crime per 100,000 residents in that state. The urban pop variable is the percent of residents living in an urban setting.  


### Problem 5

Draw a histogram of `Murder` with proper labels and title.

```{r}
hist(dat$Murder, main='Murder Arrests per 100,000 residents', xlab="Number of Arrests", ylab="Frequency", xlim=c(0,20), ylim=c(0,20),col="pink",breaks=10)

```
### Problem 6

Please summarize `Murder` quantitatively. What are its mean and median? What is the difference between mean and median? What is a quartile, and why do you think R gives you the 1st Qu. and 3rd Qu.?

```{r}
summary(dat)
```
The average number of murder arrests per 100,000 residents is 7.788.  The median for this data set is 7.250. Mean is the average value of a data set. Mean is equal to the sum of values divided by the number of values. Mean = sum of values/number of values. 
The Median is the middle value of a number set after all of the values have been put in an ordered list. 
Quartiles are three values that divide the data distribution into even fourths.  In particular, Q1 and Q3 are important because we can use these two values to calculate the IQR, or interquartile range. The middle half of the data lies within the IQR.  

### Problem 7

Repeat the same steps you followed for `Murder`, for the variables `Assault` and `Rape`. Now plot all three histograms together. You can do this by using the command `par(mfrow=c(3,1))` and then plotting each of the three. 

```{r, echo = TRUE, fig.width = 5, fig.height = 8}
hist(dat$Assault, main='Assault Arrests per 100,000 residents', xlab="Number of Arrests", ylab="Frequency", col="yellow", xlim=c(0,400), ylim=c(0,20),)
#The average number of assault arrests per 100,000 residents is 170.8.  The median for this data set is 159.0.  
```
```{r, echo = TRUE, fig.width = 5, fig.height = 8}
#Histogram of Rape Arrests per 100,000 Residents 
hist(dat$Rape, main='Rape Arrests per 100,000 residents', xlab="Number of Arrests", ylab="Frequency", col="sky blue", xlim=c(0,60), ylim=c(0,20))
#The average number of rape arrests per 100,000 residents is 21.23 and the median for this data set is 20.10.  
```
```{r, fig.width = 5, fig.height = 8}
par(mfrow=c(3,1))
hist(dat$Rape, main='Rape Arrests per 100,000 residents', xlab="Number of Arrests", ylab="Frequency", col="sky blue", xlim=c(0,60), ylim=c(0,20))
hist(dat$Assault, main='Assault Arrests per 100,000 residents', xlab="Number of Arrests", ylab="Frequency", col="yellow", xlim=c(0,400), ylim=c(0,20),)
hist(dat$Murder, main='Murder Arrests per 100,000 residents', xlab="Number of Arrests", ylab="Frequency", xlim=c(0,20), ylim=c(0,20),col="pink",breaks=10)
```

What does the command par do, in your own words (you can look this up by asking R `?par`)?

Answer:The command par is used to to set graphical parameters.  In this case, it can be used to put multiple graphs on a single plot. 


What can you learn from plotting the histograms together?

Answer: From plotting the histograms together, I can compare frequency of the arrest rates for these three crimes. I can see that the number of assault arrests per 100,000 residents has a much wider spread than rape arrests and murder arrests.  The number of murder and rape arrests per 100,000 residents has a much smaller spread.  This shows that on average, there are more assault arrests per 100,000 residents in the United States than murder or rape arrests.  Looking at histograms graphed together, we can visually compare how different, or similar, the statistical characteristics, such as mean, median, spread, of the different data sets are.      
  
### Problem 8

In the console below (not in text), type `install.packages("maps")` and press Enter, and then type `install.packages("ggplot2")` and press Enter. This will install the packages so you can load the libraries.
```{r}
#install.packages("ggplot2")
#install.packages("maps")
#'maps' and 'ggplot2' were already downloaded, so I was getting an error message when I had the code in for it.
```
Run this code:

```{r, eval = FALSE, fig.width = 7.5, fig.height = 4}
library(maps) 
library(ggplot2) 

ggplot(dat, aes(map_id=state, fill=Murder)) + 
  geom_map(map=map_data("state")) + 
  expand_limits(x=map_data("state")$long, y=map_data("state")$lat)
```

What does this code do? Explain what each line is doing.

Answer: The library code loads the desired packages.  In this case, it is loading the packages called 'map' and 'ggplot2'.  The combination of the 'map' package and the 'ggplot2' package allows for the display of maps. The next line is giving the code for the map that we want to generate of the United States.  The quoting function aes is for aesthetic mappings and the code that follows is describing what is making up the aesthetic mapping. We are pulling data from the USArrests data set, which was shortened to dat. The fill=murder command is telling R that we want the states to be shaded in according to the"Murder" data set.  The expand_limits code describes the x and y axis by longitude and latitude. 


# Assignment 2
# Title: Assignment 2
Subtitle: Crim 250: Statistics for the Social Sciences
Name: Michaela Rieser
Date: 09/23/2021

Problem 1: Load data

Read the data
```{r}
read.csv(file="dat.nsduh.small.csv")
dat2 <- read.csv(file = "dat.nsduh.small.csv")
```

What are the dimensions of the dataset? 
```{r}
names(dat2)
```
The variables are mjaje, cigever, alcever, age2, sexatract, speakenglish, irsex.


# Problem 2: Variables

 Describe the variables in the data set.
```{r}
summary(dat2)
```
All of the variables in our study have been made into quantitative variables. For each of the questions, the response was a numerical answer.  Even for the questions that could have been seen as categorical, the respondents answered with a number.  The responses to each question were coded into a numerical value.For example, one of the variables is sexual attraction, and the responses are "I am only attracted to the opposite sex", "I am mostly attracted to opposite sex", "I am equally attracted to males and females", "I am mostly attracted to the same sex", "I am only attracted to the same sex", and "I am not sure" all correspond to a numerical value.  This is useful because we are able to use quantitative variable techniques to learn more about the sample.  For example, we can calculate the mean and median because our responses have been translated into numbers. 

# What is this data set about? Who collected the data, what kind of sample is it, and what was the purpose of generating the data?
This data set is just a small sample taken from the 2019 National Survey of Drug Use and Health.  The National Survey on Drug Use and Health (NSDUH) was collected by the US Department of Health and Human Services.  NSDUH is a sample survey of the population of United States citizens aged 12 and older.  The goal of this survey is to generate a large statistical information data base on the use of alcohol, tobacco, drugs, and mental health in the United States.  The survey wants to track trends in substance use and mental illness.  For the purpose of this class, we only are looking at some of the data collected in this survey.  We are focused on looking at the trends and spread of the data collected about the age of first marijuana use, the age when individuals first started smoking cigarettes everyday, and the age of first alcohol use. We also are looking at the data that asks how well the respondent speaks English, their current age, their sexual attraction, and their gender. 


#Problem 3: Age and gender

What is the age distribution of the sample like? Make sure you read the codebook to know what the variable values mean.

The histogram does not directly express the years of age along the x axis.  The ages of the respondents were coded into groups.  For example, a value of 1 for age corresponds to the responded being 12 years old I feel that it is difficult to really determine the distribution of ages, because some numerical values correspond to only a single year of age and others correspond to larger age groups, such as 50-64 year olds.  I think it would be better if the ages were expressed as a normal quantitative data set, or each numerical value corresponded to age groups of the same length (for example, the age range for each was 3 years for all, and not varying).From summarizing the data for AGE2 and producing a histogram, I can see that the average was 13.98 which corresponds to an average respondent age of between 30 and 34 years of age. Respondents were all over the age of 12. 
The histogram allows for the visualization of the spread.  The data appears to be skewed left, but I think that this could just be a result of how the ages were grouped.  Of course the graph would appear to be skewed left when the second half of the age code encompasses ages 22 through 65+.  


# Do you think this age distribution representative of the US population? Why or why  not?
No, I do not think that this age distribution is representative of the US population because 
there is no representation of the population under 12 years of age.  Although these questions would not be appropriate to ask children, if the sampling was for all ages, then perhaps the age distribution would be representative of the US population.  Also, it would make more sense that there would more people under 25 because not all children reach adulthood. 


# Is the sample balanced in terms of gender? If not, are there more females or males?
```{r}
counts <- table(dat2$irsex)
barplot(counts, main="Gender Distribution", xlab="Gender", ylab="Frequency", names=c("Male", "Female"), ylim=c(0,300), col="sky blue")
```

```{r}
counts <- table(dat2$irsex)
```

```{r}
pie(counts, labels=c("Male", "Female"), main="Gender Distribution")
```

```{r}
table(dat2$irsex)
```

I used both a bar plot and pie chart to look at the gender distribution.  From both graphs, I can see that the sample is not 50% men, 50% women.  There are more male responses in our sample than women.  However, the difference is only slight.  If there was an equal number of men (1) and women (2) in this study, the mean would be exactly 1.5.  However, the mean is slightly less than 1.5, it is 1.468.  Because the mean is pulled slightly closer to 1 (which is the numerical code for male respondent).Also, I was able to make a table of irsex and see how many respondents answered 1(male) or 2(female), 91 answered male and 80 answered female.

# Use this code to draw a stacked bar plot to view the relationship between sex and age. What can you conclude from this plot?

From a stacked bar plot, we can compare the age and sex distributions of the respondents simultaneously.  With this bar plot, we can compare how sex is distributed in each age category.  For example, in age category 8, which corresponds to respondent is 19 years old, we can see that there were much more female respondents than male (if there were any male at all).


## Problem 4: Substance use

# For which of the three substances included in the data set (marijuana, alcohol, and cigarettes) do individuals tend to use the substance earlier?
```{r}
summary(dat2)
```
To answer this question, I looked at both the minimum age and the average age for the first time trying each of these substances. The youngest that any of these respondents had ever tried alcohol was 5 years old, whereas the youngest that anyone had ever tried cigarettes or marijuana was 10 and 7, respectively.The average age at first alcohol drink was 14.95 or ~15 years old.  The average age at first cigarette was 17.65 years old and the average age of first time using marijuana was 15.99 or ~16. On average, individuals tend to use alcohol earliest.  


## Problem 5: Sexual attraction

# What does the distribution of sexual attraction look like? Is this what you expected?
```{r}
counts <- table(dat2$sexatract)
barplot(counts, ylim = c(0,150), main="Sexual Attraction/Orientation Distribution", xlab="Sexual Attraction", names=c("1", "2", "3", "4", " 5", "6", "97", "98","99"))
```
The majority of respondents are straight/only attracted to the opposite sex. For this variable, it is not helpful to look at the mean, because it is skewed due to the code 99 for skipped question.  By looking at both the bar plot and the median, Q1 and Q3, I can see that almost all of the data falls in the opposite sex only code of 1.  This is not what I expected at all.Especially today, in which there is a greater level of acceptance of LGBTQIA+ individuals, I would feel that the distribution would not be so centered around 1, only opposite sex attraction. 


# What is the distribution of sexual attraction by gender? 
```{r}
tab.gendersexattract <- table(dat2$irsex, dat2$sexatract)
barplot(tab.gendersexattract,
        main = "Sexual Attraction of Men and Women", ylim=c(0,150), 
        xlab = "Sexual Attraction", ylab = "Frequency",
        legend.text = rownames(tab.gendersexattract),
        beside = FALSE) # Stacked bars (default)
```


## Problem 6: English speaking

# What does the distribution of English speaking look like in the sample? Is this what you might expect for a random sample of the US population?
```{r}
counts <- table(dat2$speakengl)
barplot(counts, ylim = c(0,200), main="English Speaking Ability", xlab="Language Code ")
```
To answer this question, I looked at both the median, mean, Q1, Q3, and a bar chart for the data collected on English speaking ability.75% or more of the respondents can speak English very well, looking at Q3. 
```{r}
table(dat2$speakengl)
```
Also, by making a table with the data from speakengl, I am able to see that 161 of the respondents answered that they speak English very well, in comparison to only 8 answering 2(well) and 2 answering 3(not well).  

# Are there more English speaker females or males?
```{r}
tab.genderspeakengl <- table(dat2$irsex, dat2$speakengl)
barplot(tab.genderspeakengl,
        main = "English Speaking Ability of Men and Women", ylim=c(0,200), 
        xlab = "English Speaking Ability", ylab = "Frequency",
        legend.text = rownames(tab.genderspeakengl),
        beside = FALSE) # Stacked bars (default)
```

```{r}
table(dat2$speakengl, dat2$irsex)
```
Looking at the stacked bar plot for gender and English speaking ability, I can't really tell if there are more men or more women able to speak English.I decided to make a table to see exactly how many men and women answered 1 (speaks English very well).  From this table, I can see that 84 men answered this, whereas only 77 women answered that they can speak English very well.However, there were more male respondents than female, so I decided to calculate percent of men and percent of women can speak English "very well". 96.25% of female respondents speak English very well.  86.6% of male respondents speak English very well.  A greater percent of female respondents are able to speak English very well.  However, just looking at number of respondents, more men speak English very well. 
 

$$\\[2in]$$





##Exam 1 

# Instructions

a. Create a folder in your computer (a good place would be under Crim 250, Exams). 

b. Download the dataset from the Canvas website (fatal-police-shootings-data.csv) onto that folder, and save your Exam 1.Rmd file in the same folder.

c. Download the README.md file. This is the codebook. 

d. Load the data into an R data frame.
```{r}
datexam <- read.csv("fatal-police-shootings-data.csv")
```


# Problem 1 (10 points)

a. Describe the dataset. This is the source: https://github.com/washingtonpost/data-police-shootings . Write two sentences (max.) about this.

__This data set is a record of every fatal police shooting in the United States since January 1, 2015.  The data set gives a unique identification for each victim, the name of the victim, the date of the shooting, the manner of death, whether the victim was armed, the age, gender, and race of the victim, the city and state of the shooting, whether or not the victim had signs of mental illness, the threat level, how/if the victim tried to flee, whether or not a body camera was worn by the officer, the latitude and longitude location, and the accuracy of these coordinates. __

b. How many observations are there in the data frame?
```{r}
names(datexam)
```

__There are 17 different variables in the data frame. 6954 individuals were observed (6954 victims). __

c. Look at the names of the variables in the data frame. Describe what "body_camera", "flee", and "armed" represent, according to the codebook. Again, only write one sentence (max) per variable.
```{r}
summary(datexam)
```

__"body_camera" is a categorical variable that represents whether or not the officer was reported in the news to be wearing a body cam at the time of the incident and whether or not any of the incident was recorded. "flee" is another categorical variable that represents whether or not news reports indicated that the victim was fleeing at the time of shooting and if it was by foot or car.  "armed" is another categorical variable that indicates if the victim was armed. __

d. What are three weapons that you are surprised to find in the "armed" variable? Make a table of the values in "armed" to see the options.
```{r}
table(datexam$armed)
```

__This is a very extensive and interesting list of weapons that the victims were armed with.  Three weapons that I was surprised to find in the armed variable were: air conditioner, railroad spikes, and flashlight.  Another weapon that was shocking was a "toy weapon".   __

# Problem 2 (10 points)

a. Describe the age distribution of the sample. Is this what you would expect to see?
```{r}
hist(datexam$age, main="Distribution of Age of Police Shoooting Victims", xlab="Age", ylab="Frequency", xlim=c(0,100 ), ylim=c(0,1500),col="yellow", breaks=25)
```

__The distribution of the data is skewed fairly right.  According to the data, the youngest victim was 6 years old and the oldest victim was 91 years old.  This is a very wide spread and I was shocked and upset to see that the youngest victim of police shooting was 6 years old.  50% of the victims were between the ages of 27 and 45, according to Q1 and Q3.  The distribution is skewed fairly right, with a concentration of victims between the ages of 27 to 45.  The average age of victims was 37.12 years old.  The median was 35 for this data set. __

b. To understand the center of the age distribution, would you use a mean or a median, and why? Find the one you picked.
```{r}
summary(datexam)
```

__To describe the center of the age distribution, I used the median age.  The median age gives a better description of the center of the age distribution because it is the point where half of the victims are younger than and half of the victims are older than this age.  Mean is the average age of the people but median gives a better description of the true center of the distribution.__

c. Describe the gender distribution of the sample. Do you find this surprising?
```{r}
table(datexam$gender)
counts <- table(datexam$gender)
barplot(counts, main="Gender Distribution of Police Shooting Victims", xlab="Gender", ylab="Frequency", names=c("unknown", "Female","Male"),ylim=c(0,7000), col="sky blue", legend=TRUE)

```

__Because gender is a categorical variable, I used a bar plot to look at the distribution of the same.  There are three categories for gender: female, male, and unknown gender. Looking at the table displaying the counts of male and female victims in union with the bar plot, it is clear that the number of male police shooting victims outweighs the number of female police shooting victims. I am not surprised by this, especially with the recent news and all of the reports I have heard about about male shooting victims.  3 victims had unknown gender, 293 were women, and 6298 were men. __


# Problem 3 (10 points)

a. How many police officers had a body camera, according to news reports? What proportion is this of all the incidents in the data? Are you surprised that it is so high or low?

```{r}
table(datexam$body_camera)
```

__910 police officers had a body camera. 13.8% of police officers were wearing a body camera and could have recorded a portion of the incidents  I am surprised that this is so low.  You would think that if a police officer was being attacked they would activate their body camera to record the incident.  However, with all of the recent news about the various police shooting incidents, I am not surprised that police officers are not using their body cameras in incidents were the victims were not actually a threat.  __

b. In  how many of the incidents was the victim fleeing? What proportion is this of the total number of incidents in the data? Is this what you would expect?
```{r}
table(datexam$flee)
```

__In 1058 incidents, the victim was feeling by car.  In 845 incidents, they were fleeing by foot. In 491, it is unknown whether or not the victim was fleeing.  In total, in 1903 of these incidents, the victim was fleeing before being shot.  In 16.58% of the incidents, the victim was fleeing before the shooting. I honestly cannot decide whether or not this is what I would expect.  __



# Problem 4 (10 points) -  Answer only one of these (a or b).

a. Describe the relationship between the variables "body camera" and "flee" using a stacked barplot. What can you conclude from this relationship? 

*Hint 1: The categories along the x-axis are the options for "flee", each bar contains information about whether the police officer had a body camera (vertically), and the height along the y-axis shows the frequency of that category).*

*Hint 2: Also, if you are unsure about the syntax for barplot, run ?barplot in R and see some examples at the bottom of the documentation. This is usually a good way to look up the syntax of R code. You can also Google it.*


```{r}

```

__Your answer here.__

b. Describe the relationship between age and race by using a boxplot. What can you conclude from this relationship? 

*Hint 1: The categories along the x-axis are the race categories and the height along the y-axis is age.* 

*Hint 2: Also, if you are unsure about the syntax for boxplot, run ?boxplot in R and see some examples at the bottom of the documentation. This is usually a good way to look up the syntax of R code. You can also Google it.*


```{r}
table(datexam$race)
plot(factor(datexam$race), datexam$age, ylab="Age", xlab="Race", names=c("unknown", "Asian", "Black", "Hispanic", "NA", "Other", "White"), main="Relationship between Age and Race of Police Shooting Victims", col="red")
table(datexam$age, datexam$race)
```

__NA stands for Native American on our box plot.  The box for "unknown" is missing or unknown racial data.  We should ignore this in our analysis of age distribution within race.  The box plot shows the distribution of age within each race category.  This box plot breaks the victims into their race categories, and then displays the distribution of age in each category. From the box plot, we visualize the distribution of age in each race more easily and compare the distributions across races.  From this, I can see that the ages of white victims of police shootings has the most spread.  From looking at the table, I can see that the minimum age of white victims was 6 years old and the maximum age was 91.  The range for the other racial categories is not as large.  Looking at the box plots for all of the relationships, I can see that the average age of police shooting victims of for all 6 racial categories is under 40. There are a few age outliers for each race, the most for Black.  The whiskers on the "white" boxplot are much longer than others.  From this boxplot, we can conclude that, regardless of outliers and other discrepancies, the distribution of age of police shooting victims is similar regardless of victim's race. __






# Extra credit (10 points)

a. What does this code tell us? 

```{r, eval=FALSE}
mydates <- as.Date(dat$date)
head(mydates)
(mydates[length(mydates)] - mydates[1])
```

 __The first line is loading the data as calendar dates (d/m/year).  I am not sure about the rest of the code. __
 
b. On Friday, a new report was published that was described as follows by The Guardian: "More than half of US police killings are mislabelled or not reported, study finds." Without reading this article now (due to limited time), why do you think police killings might be mislabelled or underreported?
__The recent frequency of police shootings has produced strong negative feelings towards police officers and law enforcement. With the increase of participation in the "black lives matter" movement (which is extremely important), police officers are under attack for police killings.  I feel that this could definitely be the reason for mislabeling and under-reporting of police killings.  In order to prevent backlash from both inside the specific community and outside community, police killings are being mislabeled and underreported.  I find this extremely concerning, espcially if this is the reasoning.  Police officers need to be held accountable for their decisions, especially when their decisions lead to the slaying of innocent individuals.__

c. Regarding missing values in problem 4, do you see any? If so, do you think that's all that's missing from the data?
__In problem 4, I see that there is a category for race that is "unknown".  This variable is different from "other" because the race was either not reported or unknown by the data collectors. I also saw in gender and weapon that there was a category for "unknown" where data was missing or unreported.  Therefore, I do think that there is data that is missing from throughout the data set, not just in race.__ 





